<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>

        document.addEventListener('DOMContentLoaded',()=>{
            const loginForm = document.querySelector('form');
            const userid = document.querySelector('#userid');
            
                loginForm.addEventListener('submit',(event)=>{ // event가 발생했을때 submit 한다.
                    // console.log('전송버튼이 클릭되었습니다.');

                    const userid = document.querySelector('#userid');
                    const pw = document.querySelector('#pw');

                    // String search => 정상 : 0 / 비정상 : -1
                    console.log(userid.value.search(/[a-zA-Z0-9]/));            
                    console.log(/[a-zA-Z0-9]/.test(userid.value));   // test는 boolean값으로 가져온다.         

                    if(/[a-zA-Z0-9]/.test.value){
                        alert('아이디는 대문자 소문자 숫자만을 조합하는 문자열 입력만 가능합니다.');
                        // return false;   // break;와 같은거
                    }

                    console.log(1111);

                    event.preventDefault();  //   원래 가지고 있던 event를 없애주는 기능

                });
                
            userid.addEventListener('focusin',(event)=>{
                console.log('focus in');
            });
            
            userid.addEventListener('focusout',(event)=>{
                console.log('focus out');
                const val = event.target.value;
                
                if(!/[a-zA-Z0-9]/.test(val)){
                    alert('영문 소문자 영문 대문자 숫자만 입력 가능!');
                    
                }
            });
        });

        
        
    </script>
</head>
<body>
    <h1>로그인 폼</h1>
    <form action="https://www.naver.com" method="get">

        <label for="userid">ID <input type="text" name="userid" id="userid"></label>
        <label for="pw">PW <input type="password" name="pw" id="pw"></label>

        <input type="submit" value="로그인">
    </form>
</body>
</html>