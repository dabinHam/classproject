<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://code.jquery.com/jquery-1.12.0.js"></script>
    <script>
        $(document).ready(function(){
            // 페이지 가져오기
            /*$.ajax('/data.html',{
                success : function(data){
                    console.log(data)
                    $('body').append(data);
                }
            })*/

            /*$.ajax({
                url : '/data.html',
                success : function(data){
                    console.log(data)
                    $('body').append(data);
                }
            })*/

            // parameter get name, price
            /*$('#btnSubmit').click(function (){

                let name = $('#name').val()
                let price = $('#price').val()

                $.ajax({
                    url : '/parameter',
                    type : 'get', // post put delete
                    data : {name : name, price : price}, // {} 또는 문자열 쿼리스트링 name=milk&price=1000
                    success : function (data){
                        console.log('통신 결과 data...', data)
                        $('body').append('<h3>'+data+'</h3>')
                    }
                })
            })*/

            // 데이터 간단하게 가져오기
            /*$.get('/data.html', function(data){
                $('body').html(data)
            })*/

            /*$.get('/parameter', {name : '우유', price : 3000}, function(data){
                $('body').html(data)
            })*/


            /*$.get('/data.json',function (data){
                console.log(data)

                $.each(data,function (index,item) {
                    $('body').append('<h2>'+item.name+':'+item.price+'</h2>')
                })
            },'json')*/

            // getJSON을 이용하여 json 데이터 간단하게 받기
            // $.getJSON('/data.json',function (data){
            //     console.log(data)
            //
            //     $.each(data,function (index,item) {
            //         $('body').append('<h2>'+item.name+':'+item.price+'</h2>')
            //     })
            // })


            // load
            // $('body').load('/data.html')    // 데이터 간단하게 가져오기의 첫번째 예제와 같은 것.
            // $('div').load('/data.html')    //특정 영역에 캐스팅하여 로드함

            // $.ajax({
            //     url:'/data.xml',
            //     success:function (data){
            //         //find 메소드를 사용하기 위해선 jquery로 만들어줘야함.
            //         $(data).find('product').each(function (){
            //             let name = $(this).find('name').text();
            //             let price = $(this).find('price').text();
            //
            //             $('div').append('<h3>'+name+' : '+price+'</h3>');
            //         })
            //     }
            // })
            
            
            $('#myForm').submit(function () {
                // form이 만들어져있기 때문에 action이 없어도 전송

                let param1 = $(this).serialize();    // 여기서 this = submit   // serialize : form안에 있는 이름을 가지고 queryString(%EC%BB%A4%ED%94%BC)을 만들어줌
                let param2 = $(this).serializeArray();      // serializeArray : serialize를 배열형태로 만들어줌

                console.log('param1',param1);
                console.log('param2',param2);

                $.get('/parameter', param1, function(data){
                    $('body').html(data)
                })

                return false;
            })


        })


    </script>
</head>
<body>

    <form id="myForm">
        이름 <input type="text" name="name" id="name">
        가격 <input type="text" name="price" id="price">
        <input type="submit" id="btnSubmit" value="전송">
    </form>



    <!--<div></div>-->


    <!--이름 <input type="text" name="name" id="name">
    가격 <input type="text" name="price" id="price">
    <input type="submit" id="btnSubmit" value="전송">-->


</body>
</html>